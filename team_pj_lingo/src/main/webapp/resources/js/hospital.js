const citys = {
        	"서울특별시": ["강남구", "강북구", "관악구", "구로구", "노원구"],	
            "부산광역시": ["해운대구", "부산진구", "서구", "동래구", "금정구"],
            "인천광역시": ["인천 중구", "인천 동구", "미추홀구", "연수구", "남동구"],
            "대구광역시": ["대구 중구", "대구 동구", "대구 서구", "대구 남구", "대구 북구", "수성구", "달서구", "달성군"],
            "광주광역시": ["광주 동구", "광주 서구", "광주 남구", "광주 북구", "광산구"],
            "대전광역시": ["대전 동구", "대전 중구", "대전 서구", "유성구", "대덕구"],
            "울산광역시": ["울산 중구", "울산 남구", "울산 동구", "울산 북구", "울주군"],
	        "경기도 수원시": ["장안구", "권선구", "팔달구", "영통구"],
	        "경기도 성남시": ["수정구", "중원구", "분당구"],
	        "경기도 고양시": ["덕양구", "일산동구", "일산서구"],
	        "경기도 용인시": ["처인구", "기흥구", "수지구"],
	        "경기도 부천시": ["원미구", "소사구", "오정구"],
	        "경기도 안산시": ["상록구", "단원구"]
        };

        const hospitals = {
        		"강남구": [
        		    { name: "서울대병원 강남센터", address: "서울특별시 강남구 테헤란로 152", phone: "02-2112-5500", lat: 37.499995, lng: 127.036282 },
        		    { name: "삼성서울병원", address: "서서울특별시 강남구 일원로 81", phone: "02-3410-2114", lat: 37.488324, lng: 127.084956 }
        		],
        		    "강북구": [
        		        { name: "한일병원", address: "서울특별시 도봉구 우이천로 308", phone: "02-901-3114", lat: 37.645938, lng: 127.028515 },
        		        { name: "강북삼성병원", address: "서울특별시 종로구 새문안로 29", phone: "02-2001-2001", lat: 37.568435, lng: 126.967409 }
        		    ],
        		    "관악구": [
        		        { name: "서울특별시보라매병원", address: "서울특별시 동작구 보라매로5길 20", phone: "02-870-2114", lat: 37.493479, lng: 126.924536 },
        		        { name: "관악서울대학교치과병원", address: "서울특별시 관악구 관악로 1", phone: "02-2072-2820", lat: 37.469234, lng: 126.952615 }
        		    ],
        		    "구로구": [
        		        { name: "고려대학교구로병원", address: "서울특별시 구로구 구로동로 148", phone: "02-2626-1114", lat: 37.492336, lng: 126.885012 },
        		        { name: "구로성심병원", address: "서울특별시 구로구 경인로 427", phone: "02-2067-1500", lat: 37.499740, lng: 126.866367 }
        		    ],
        		    "노원구": [
        		        { name: "인제대학교 상계백병원", address: "서울특별시 노원구 동일로 1342", phone: "02-950-1114", lat: 37.648695, lng: 127.063111 },
        		        { name: "노원을지대학교병원", address: "서울특별시 노원구 한글비석로 68", phone: "02-970-8000", lat: 37.636469, lng: 127.069771 }
        		    ],
        		    "해운대구": [
        		        { name: "인제대학교 해운대백병원", address: "부산광역시 해운대구 해운대로 875", phone: "051-797-0114", lat: 35.173712, lng: 129.182022 },
        		        { name: "해운대자생한방병원", address: "부산광역시 해운대구 좌동 1459-6", phone: "051-743-8275", lat: 35.169810, lng: 129.175322 }
        		    ],
        		    "부산진구": [
        		        { name: "부산백병원", address: "부산광역시 부산진구 복지로 75", phone: "051-890-6114", lat: 35.146289, lng: 129.020802 },
        		        { name: "온종합병원", address: "부산광역시 부산진구 가야대로 721", phone: "051-607-0114", lat: 35.157897, lng: 129.049909 }
        		    ],
        		    "서구": [
        		        { name: "부산대학교병원", address: "부산광역시 서구 구덕로 179", phone: "051-240-7000", lat: 35.100674, lng: 129.019091 },
        		        { name: "고신대학교복음병원", address: "부산광역시 서구 감천로 262", phone: "051-990-6114", lat: 35.080549, lng: 129.015995 }
        		    ],
        		    "동래구": [
        		        { name: "동래봉생병원", address: "부산광역시 동래구 안연로109번길 27", phone: "051-531-6000", lat: 35.197154, lng: 129.096140 },
        		        { name: "부산광역시의료원", address: "부산광역시 연제구 월드컵대로 359", phone: "051-607-2871", lat: 35.187321, lng: 129.059112 }
        		    ],
        		    "금정구": [
        		        { name: "부산보훈병원", address: "부산광역시 사상구 백양대로 420", phone: "051-601-6000", lat: 35.153436, lng: 129.006510 },
        		        { name: "부산금강병원", address: "부산광역시 금정구 구서제1동 461-7", phone: "051-512-6161", lat: 35.251627, lng: 129.086791 }
        		    ],
        		    "인천 중구": [
        		        { name: "인하대학교병원", address: "인천광역시 중구 인항로 27", phone: "032-890-2114", lat: 37.458854, lng: 126.634171 },
        		        { name: "국제성모병원", address: "인천광역시 서구 심곡로100번길 25", phone: "032-290-2000", lat: 37.542619, lng: 126.683583 }
        		    ],
        		    "인천 동구": [
        		        { name: "인천광역시의료원", address: "인천광역시 동구 방축로 217", phone: "032-580-6000", lat: 37.478927, lng: 126.668693 },
        		        { name: "동구보건소", address: "인천광역시 동구 석수로 90", phone: "032-770-5753", lat: 37.483041, lng: 126.625882 }
        		    ],
        		    "미추홀구": [
        		        { name: "가천대길병원", address: "인천광역시 남동구 구월동 남동대로 783", phone: "032-460-3114", lat: 37.452495, lng: 126.707411 },
        		        { name: "인천사랑병원", address: "인천광역시 미추홀구 미추홀대로 726", phone: "032-457-2000", lat: 37.462361, lng: 126.680707 }
        		      ],
        		      "연수구": [
        		        { name: "나사렛국제병원", address: "인천광역시 연수구 동춘동 937-3", phone: "032-899-4000", lat: 37.408302, lng: 126.670539 },
        		        { name: "연수삼성병원", address: "인천광역시 연수구 경원대로 294 삼성스토어 연수송도 2층", phone: "032-456-6000", lat: 37.413496, lng: 126.689269 }
        		      ],
        		      "남동구": [
        		        { name: "인천성모병원", address: "인천광역시 부평구 동수로 56", phone: "032-280-6000", lat: 37.485029, lng: 126.725078 },
        		        { name: "남동서울병원", address: "6th Floor 인하로 507 KR 인천광역시 남동구 Moa Medical Town., 63 Seoul IVF Clinic", phone: "032-440-8000", lat: 37.447569, lng: 126.704071 }
        		      ],
        		      "대구 중구": [
        		        { name: "경북대학교병원", address: "대구 중구 동덕로 130", phone: "053-200-5114", lat: 35.866559, lng: 128.604439 },
        		        { name: "계명대학교 대구동산병원", address: "대구 중구 달성로 56", phone: "053-250-8013", lat: 35.868884, lng: 128.583522 }
        		      ],
        		      "대구 동구": [
        		        { name: "대구파티마병원", address: "대구 동구 아양로 99", phone: "053-940-7119", lat: 35.884253, lng: 128.623912 },
        		        { name: "강남종합병원", address: "대구광역시 동구 동촌로 209", phone: "053-980-9018", lat: 35.883061, lng: 128.664048 }
        		      ],
        		      "대구 서구": [
        		        { name: "대구의료원", address: "대구 서구 평리로 157", phone: "053-560-7575", lat: 35.859733, lng: 128.540735 },
        		        { name: "삼성병원", address: "대구광역시 북구 칠곡중앙대로 448", phone: "053-572-3114", lat: 35.936186, lng: 128.549126 }
        		      ],
        		      "대구 남구": [
        		        { name: "영남대학교병원", address: "대구 남구 현충로 170", phone: "053-620-3114", lat: 35.847522, lng: 128.585186 },
        		        { name: "대구가톨릭대학교병원", address: "대구 남구 두류공원로17길 33", phone: "053-650-3000", lat: 35.844035, lng: 128.566995 }
        		      ],
        		      "대구 북구": [
        		        { name: "칠곡경북대학교병원", address: "대구 북구 호국로 807", phone: "053-200-2100", lat: 35.956329, lng: 128.565346 },
        		        { name: "대구가톨릭대학교 칠곡가톨릭병원", address: "대구 북구 칠곡중앙대로 440", phone: "053-320-2500", lat: 35.935228, lng: 128.549232 }
        		      ],
        		      "수성구": [
        		        { name: "천주성삼병원", address: "대구 수성구 달구벌대로 3190", phone: "053-790-1000", lat: 35.840462, lng: 128.705658 },
        		        { name: "대구스타병원", address: "대구 수성구 동대구로 61", phone: "053-766-7000", lat: 36.076477, lng: 128.570302 }
        		      ],
        		      "달서구": [
        		        { name: "계명대학교 동산병원", address: "대구 달서구 달구벌대로 1035", phone: "053-258-7000", lat: 35.864626, lng: 128.477770 },
        		        { name: "대구보훈병원", address: "대구 달서구 월곡로 60", phone: "053-630-7114", lat: 35.803066, lng: 128.551834 }
        		      ],
        		      "달성군": [
        		        { name: "행복한병원", address: "대구광역시 달서구 월배로 120", phone: "053-210-8000", lat: 35.819089, lng: 128.524634 },
        		        { name: "현풍중앙병원", address: "대구광역시 달성군 현풍면 하리 76", phone: "053-615-5000", lat: 35.720350, lng: 128.436847 }
        		      ],
        		      "광주 동구": [
        		          { name: "전남대학교병원", address: "광주광역시 동구 제봉로 42", phone: "062-220-5893", lat: 35.141928, lng: 126.922150 },
        		          { name: "조선대학교병원", address: "광주광역시 동구 필문대로 365", phone: "062-220-3373", lat: 35.1395, lng: 126.9250 }
        		      ],
        		      "광주 서구": [
        		          { name: "상무병원", address: "광주광역시 서구 상무자유로 181-7", phone: "062-600-7000", lat: 35.152516, lng: 126.853923 },
        		          { name: "서광병원", address: "광주광역시 서구 금화로59번길 6", phone: "062-600-8000", lat: 35.132736, lng: 126.855825 }
        		      ],
        		      "광주 남구": [
        		          { name: "광주기독병원", address: "광주광역시 남구 양림로 37", phone: "062-650-5000", lat: 35.136818, lng: 126.912092 },
        		          { name: "빛고을전남대학교병원", address: "광주광역시 남구 덕남길 80", phone: "1899-0000", lat: 35.094685, lng: 126.896123 }
        		      ],
        		      "광주 북구": [
        		          { name: "광주병원", address: "광주광역시 북구 면앙로139번길 51", phone: "062-260-7000", lat: 35.179028, lng: 126.928181 },
        		          { name: "광주현대병원", address: "광주광역시 북구 설죽로 291", phone: "062-570-0336", lat: 35.185743, lng: 126.897951 }
        		      ],
        		      "광주 광산구": [
        		          { name: "첨단종합병원", address: "광주광역시 광산구 첨단중앙로170번길 59", phone: "062-601-8000", lat: 35.221105, lng: 126.845354 },
        		          { name: "광주보훈병원", address: "광주광역시 광산구 첨단월봉로 99", phone: "062-602-6021", lat: 35.207687, lng: 126.849939 }
        		      ],
        		      "대전 동구": [
        		          { name: "대전한국병원", address: "대전광역시 동구 동서대로 1672", phone: "042-621-3000", lat: 36.348316, lng: 127.435872 }
        		      ],
        		      "대전 중구": [
        		          { name: "충남대학교병원", address: "대전광역시 중구 문화로 282", phone: "042-280-7114", lat: 36.316900, lng: 127.416226 },
        		          { name: "대전선병원", address: "대전광역시 중구 목중로 29", phone: "042-220-8000", lat: 36.337009, lng: 127.410760 }
        		      ],
        		      "대전 서구": [
        		          { name: "건양대학교병원", address: "대전광역시 서구 관저동로 158", phone: "042-600-9999", lat: 36.306964, lng: 127.342293 },
        		          { name: "대청병원", address: "대전광역시 서구 계백로 1322", phone: "042-587-7000", lat: 36.308492, lng: 127.370421 }
        		      ],
        		      "대전 유성구": [
        		          { name: "유성선병원", address: "대전광역시 유성구 북유성대로 93", phone: "042-609-1000", lat: 36.375400, lng: 127.324770 }
        		      ],
        		      "대전 대덕구": [
        		          { name: "근로복지공단 대전병원", address: "대전광역시 대덕구 계족로 637", phone: "042-670-5000", lat: 36.368775, lng: 127.428436 },
        		          { name: "대전보훈병원", address: "대전광역시 대덕구 대청로82번길 147", phone: "042-939-0111", lat: 36.447283, lng: 127.439708 }
        		      ],
        		      "울산 중구": [
        		          { name: "울산대학교병원", address: "울산광역시 동구 대학병원로 25", phone: "052-250-7000", lat: 35.520142, lng: 129.428928 }
        		      ],
        		      "울산 남구": [
        		          { name: "울산병원", address: "울산광역시 남구 월평로171번길 13", phone: "052-259-5000", lat: 35.546384, lng: 129.323014 },
        		          { name: "울산제일병원", address: "울산광역시 남구 신정1동 1409-3", phone: "052-220-3300", lat: 35.548434, lng: 129.306880 }
        		      ],
        		      "울산 동구": [
        		          { name: "울산시티병원", address: "울산광역시 북구 산업로 1007", phone: "052-280-9000", lat: 35.583157, lng: 129.359238 }
        		      ],
        		      "울산 북구": [
        		          { name: "울산엘리야병원", address: "울산광역시 북구 호계로 285", phone: "052-290-2100", lat: 35.629142, lng: 129.350692 }
        		      ],
        		      "울주군": [
        		          { name: "간절곶자연병원", address: "울산광역시 울주군 서생면 용리 1511", phone: "052-246-0002", lat: 35.366690, lng: 129.323969 }
        		      ],
        		      "장안구": [
        		          { name: "경기도의료원 수원병원", address: "경기도 수원시 장안구 수성로245번길 69", phone: "031-888-0114", lat: 37.292278, lng: 126.996370 }
        		      ],
        		      "권선구": [
        		          { name: "화홍병원", address: "경기도 수원시 권선구 호매실로90번길 98", phone: "031-278-0119", lat: 37.260201, lng: 126.964207 }
        		      ],
        		      "팔달구": [
        		          { name: "가톨릭대학교 성빈센트병원", address: "경기도 수원시 팔달구 중부대로 93", phone: "031-1577-8588", lat: 37.277815, lng: 127.027376 },
        		          { name: "동수원병원", address: "경기도 수원시 팔달구 중부대로 165", phone: "031-210-0114", lat: 37.278223, lng: 127.034304 }
        		      ],
        		      "영통구": [
        		          { name: "아주대학교병원", address: "경기도 수원시 영통구 월드컵로 164", phone: "031-219-5114", lat: 37.280090, lng: 127.048134 }
        		      ],
        		      "수정구": [
        		          { name: "성남시의료원", address: "경기도 성남시 수정구 수정로171번길 10", phone: "031-738-7000", lat: 37.422592, lng: 127.102004 }
        		      ],
        		      "중원구": [
        		          { name: "성남중앙병원", address: "경기도 성남시 중원구 산성대로476번길 12", phone: "031-743-3000", lat: 37.452928, lng: 127.161916 }
        		      ],
        		      "분당구": [
        		          { name: "분당서울대학교병원", address: "경기도 성남시 분당구 구미로173번길 82", phone: "031-787-2114", lat: 37.352229, lng: 127.123145 },
        		          { name: "분당차병원", address: "경기도 성남시 분당구 야탑로 59", phone: "031-780-5000", lat: 37.410390, lng: 127.125385 }
        		      ],
        		      "덕양구": [
        		          { name: "명지병원", address: "경기도 고양시 덕양구 화수로14번길 55", phone: "031-810-5114", lat: 37.668201, lng: 126.824511 }
        		      ],
        		      "일산동구": [
        		          { name: "국민건강보험 일산병원", address: "경기도 고양시 일산동구 일산로 100", phone: "1577-0013", lat: 37.645587, lng: 126.793088 },
        		          { name: "동국대학교일산병원", address: "경기도 고양시 일산동구 동국로 27", phone: "031-1577-7000", lat: 37.676500, lng: 126.806377 }
        		      ],
        		      "일산서구": [
        		          { name: "인제대학교 일산백병원", address: "경기도 고양시 일산서구 주화로 170", phone: "031-910-7114", lat: 37.674365, lng: 126.750421 }
        		      ],
        		      "처인구": [
        		          { name: "다보스병원", address: "경기도 용인시 처인구 백옥대로1082번길 18", phone: "031-8021-2114", lat: 37.231613, lng: 127.211334 }
        		      ],
        		      "기흥구": [
        		          { name: "강남병원", address: "경기도 용인시 기흥구 중부대로 411", phone: "031-300-0114", lat: 37.273766, lng: 127.111361 }
        		      ],
        		      "수지구": [
        		          { name: "용인세브란스병원", address: "경기도 용인시 수지구 동백죽전대로 363", phone: "1899-1004", lat: 37.271159, lng: 127.148266 }
        		      ],
        		      "원미구": [
        		          { name: "순천향대학교 부속 부천병원", address: "경기도 부천시 원미구 조마루로 170", phone: "032-621-5114", lat: 37.498530, lng: 126.762832 }
        		      ],
        		      "소사구": [
        		          { name: "부천세종병원", address: "경기도 부천시 소사구 호현로489번길 28", phone: "1599-6677", lat: 37.481267, lng: 126.791361 }
        		      ],
        		      "오정구": [
        		          { name: "부천우리병원", address: "경기도 부천시 오정구 소사로 726", phone: "032-672-4100", lat: 37.520889, lng: 126.805115 }
        		      ],
        		      "상록구": [
        		          { name: "근로복지공단 안산병원", address: "경기도 안산시 상록구 구룡로 87", phone: "031-500-1114", lat: 37.317001, lng: 126.874183 }
        		      ],
        		      "단원구": [
        		          { name: "고려대학교 안산병원", address: "경기도 안산시 단원구 적금로 123", phone: "031-1577-7516", lat: 37.318399, lng: 126.824900 }
        		      ]
        };

       
       $(document).ready(function () {
    // 초기 선택 옵션 추가
    $("#city").append(new Option("도시 선택", ""));
    $("#province").append(new Option("구 선택", ""));

    // 시/도 목록 추가
    Object.keys(citys).forEach(city => {
        $("#city").append(new Option(city, city));
    });
                                                               
    // 시/도 선택 시 구/군 옵션 변경
    $("#city").change(function () {
        let selectedCity = $(this).val();
        $("#province").empty().append(new Option("구 선택", "")); 
        if (selectedCity && citys[selectedCity]) {
            citys[selectedCity].forEach(province => {
                $("#province").append(new Option(province, province   ));
            });
        }
    });

    // 구 선택 시 병원 목록 변경
    $("#province").change(function () {
        let selectedProvince = $(this).val();
        $("#hospital-list").empty();
        if (selectedProvince && hospitals[selectedProvince]) {
            hospitals[selectedProvince].forEach(hospital => {
                let li = $("<li></li>").text(hospital.name).click(() => showHospitalInfo(hospital));
                $("#hospital-list").append(li);
               });
           }
       });
   });

      // 병원 상세정보
        function showHospitalInfo(hospital) {
            $("#hospital-name").text(hospital.name);
            $("#hospital-address").text("주소: " + hospital.address);
            $("#hospital-phone").text("전화: " + hospital.phone);

            // 지도 표시
            const mapContainer = document.getElementById("map");
            const mapOptions = {
                center: new kakao.maps.LatLng(hospital.lat, hospital.lng),
                level: 3
            };
            const map = new kakao.maps.Map(mapContainer, mapOptions);

            new kakao.maps.Marker({
                map: map,
                position: new kakao.maps.LatLng(hospital.lat, hospital.lng)
            });

            // 로드뷰 표시
            const roadviewContainer = document.getElementById("roadview");
            const roadview = new kakao.maps.Roadview(roadviewContainer);
            const roadviewClient = new kakao.maps.RoadviewClient();

            // 선택한 병원의 좌표로 가장 가까운 로드뷰 ID 요청
            roadviewClient.getNearestPanoId(
                new kakao.maps.LatLng(hospital.lat, hospital.lng), 
                50, // 반경 50m 내에서 로드뷰 찾기
                function(panoId) {
                    if (panoId) {
                        roadview.setPanoId(panoId, new kakao.maps.LatLng(hospital.lat, hospital.lng));
                    } else {
                        roadviewContainer.innerHTML = "<p style='color: red;'>로드뷰 없음</p>";
                    }
                }
            );
        }